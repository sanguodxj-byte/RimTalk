<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <!-- 克苏鲁本体 ThingDef -->
  <ThingDef ParentName="AnimalThingBase">
    <defName>TSS_Cthulhu_Boss</defName>
    <label>克苏鲁本体</label>
    <description>深渊的支配者，不可名状之物的化身。它的存在会注视着你，令殖民者精神崩溃。</description>
    
    <statBases>
      <MarketValue>5000</MarketValue>
      <MoveSpeed>4.5</MoveSpeed>
      <ArmorRating_Blunt>0.5</ArmorRating_Blunt>
      <ArmorRating_Sharp>0.5</ArmorRating_Sharp>
      <PsychicSensitivity>0.1</PsychicSensitivity> <!-- 几乎不受精神影响 -->
    </statBases>
    
    <race>
      <renderTree>Animal</renderTree>
      <thinkTreeMain>Animal</thinkTreeMain>
      <thinkTreeConstant>AnimalConstant</thinkTreeConstant>
      <hasGenders>false</hasGenders>
      <bloodDef>Filth_Blood</bloodDef>
      <bloodSmearDef>Filth_BloodSmear</bloodSmearDef>
      <canBecomeShambler>false</canBecomeShambler>
      <body>QuadrupedAnimalWithPawsAndTail</body>
      <predator>true</predator>
      <maxPreyBodySize>3.0</maxPreyBodySize>
      <baseBodySize>5.0</baseBodySize>
      <baseHealthScale>20.0</baseHealthScale>
      <baseHungerRate>0.25</baseHungerRate>
      <foodType>CarnivoreAnimal</foodType>
      <trainability>None</trainability>
      <manhunterOnTameFailChance>1.0</manhunterOnTameFailChance>
      <manhunterOnDamageChance>1.0</manhunterOnDamageChance>
      <lifeExpectancy>999</lifeExpectancy>
      <lifeStageAges>
        <li>
          <def>AnimalAdult</def>
          <minAge>0</minAge>
          <soundWounded>Pawn_Warg_Wounded</soundWounded>
          <soundDeath>Pawn_Warg_Death</soundDeath>
          <soundCall>Pawn_Warg_Call</soundCall>
          <soundAngry>Pawn_Warg_Angry</soundAngry>
        </li>
      </lifeStageAges>
      <soundMeleeHitPawn>Pawn_Melee_BigBash_HitPawn</soundMeleeHitPawn>
      <soundMeleeHitBuilding>Pawn_Melee_BigBash_HitBuilding</soundMeleeHitBuilding>
      <soundMeleeMiss>Pawn_Melee_BigBash_Miss</soundMeleeMiss>
    </race>
    
    <tools>
      <li>
        <label>tentacle</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>40</power>
        <cooldownTime>2.5</cooldownTime>
      </li>
    </tools>
    
    <!-- 特殊机制：深渊召唤 + 理智光环 -->
    <comps>
      <!-- 深渊召唤（从地图边缘刷触手） -->
      <li Class="TheSecondSeat.Components.CompProperties_SpawnerFromEdge">
        <spawnPawnKind>TSS_Cthulhu_Tentacle</spawnPawnKind>
        <spawnInterval>600</spawnInterval> <!-- 10秒一波 -->
        <spawnMaxCount>20</spawnMaxCount>
        <aiMode>PushToCenter</aiMode>
        <friendlyFaction>false</friendlyFaction>
        <despawnOnBossDeath>true</despawnOnBossDeath>
        <spawnSound>Ambient_AltNoise</spawnSound>
      </li>
      
      <!-- 理智光环（降低精神） -->
      <li Class="TheSecondSeat.Components.CompProperties_SanityAura">
        <radius>15</radius>
        <severityPerSecond>0.03</severityPerSecond>
        <linkedHediff>TSS_MentalCorruption</linkedHediff>
        <onlyWhenTargeting>true</onlyWhenTargeting>
        <strictLineOfSight>false</strictLineOfSight>
        <drainSound>Ambient_AltNoise</drainSound>
      </li>
    </comps>
  </ThingDef>

  <!-- ⭐ v1.8.5: 移除DropPodIncoming继承，改用简单的Mote特效 -->
  <!-- 原 TSS_Cthulhu_AbyssDescent 已移除，因为DropPodIncoming可能需要DLC资源 -->
  <!-- 降临效果改为通过代码实现，不依赖XML定义 -->

</Defs>
