# 编译说明

Assemblies 文件夹需要包含编译后的 DLL 文件。

## 编译步骤

### 方法1: 使用 Visual Studio（推荐）

1. 打开 Visual Studio 2019 或 2022
2. 打开项目文件：`Source\SuperbRecruitment\SuperbRecruitment.csproj`
3. 在顶部工具栏选择 **Release** 配置（不是 Debug）
4. 点击菜单：**生成** → **生成解决方案** (或按 Ctrl+Shift+B)
5. 编译成功后，DLL 会自动输出到：
   - `D:\steam\steamapps\common\RimWorld\Mods\Superb Recruitment\Assemblies\SuperbRecruitment.dll`

### 方法2: 使用命令行

如果您安装了 .NET SDK 或 MSBuild：

```cmd
cd "C:\Users\Administrator\Desktop\rim mod\Superb Recruitment\Source\SuperbRecruitment"
msbuild SuperbRecruitment.csproj /p:Configuration=Release
```

## 检查编译是否成功

编译成功后，应该在以下位置看到 DLL 文件：
```
D:\steam\steamapps\common\RimWorld\Mods\Superb Recruitment\Assemblies\SuperbRecruitment.dll
```

文件大小应该在 20-50 KB 左右。

## 常见问题

### Q: 找不到引用
**解决方案**: 
- 右键项目 → 管理 NuGet 包
- 确保安装：Krafs.Rimworld.Ref (1.5.4104) 和 Lib.Harmony (2.3.3)

### Q: 编译错误
**解决方案**:
1. 清理解决方案（生成 → 清理解决方案）
2. 重新生成（生成 → 重新生成解决方案）
3. 检查 RimWorld 路径是否正确

### Q: DLL 没有输出到 Assemblies 文件夹
**解决方案**:
检查项目文件 (.csproj) 中的 OutputPath 设置：
```xml
<OutputPath>..\..\..\..\..\..\..\..\Program Files (x86)\Steam\steamapps\common\RimWorld\Mods\Superb Recruitment\Assemblies\</OutputPath>
```

如果路径不对，修改为：
```xml
<OutputPath>D:\steam\steamapps\common\RimWorld\Mods\Superb Recruitment\Assemblies\</OutputPath>
```

## 完成后

编译完成并确认 DLL 存在后：
1. 运行 `快速部署.bat` 确保所有文件都已复制
2. 启动 RimWorld
3. 在模组管理器中启用模组
4. 重启游戏测试
