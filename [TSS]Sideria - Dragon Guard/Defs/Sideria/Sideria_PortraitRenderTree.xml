<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  <TheSecondSeat.PersonaGeneration.RenderTreeDef>
    <defName>Sideria_RenderTree</defName>
    
    <!-- 表情映射 -->
    <expressions>
      <!-- Happy (5 variants) -->
      <li>
        <expression>Happy</expression>
        <suffix>_happy</suffix>
        <variants>
          <li><variant>1</variant><suffix>_happy1</suffix><textureName>happy1_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
          <li><variant>2</variant><suffix>_happy2</suffix><textureName>happy2_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
          <li><variant>3</variant><suffix>_happy3</suffix><textureName>larger_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
          <li><variant>4</variant><suffix>_happy4</suffix><textureName>happy_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
          <li><variant>5</variant><suffix>_happy5</suffix><textureName>happy_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
        </variants>
      </li>
      
      <!-- Sad -->
      <li>
        <expression>Sad</expression>
        <suffix>_sad</suffix>
        <variants>
          <li><variant>1</variant><suffix>_sad1</suffix><textureName>sad_mouth</textureName><eyesTexture>sad_eyes</eyesTexture></li>
          <li><variant>2</variant><suffix>_sad2</suffix><textureName>sad_mouth</textureName><eyesTexture>sad_eyes</eyesTexture></li>
          <li><variant>3</variant><suffix>_sad3</suffix><textureName>sad_mouth</textureName><eyesTexture>sad_eyes</eyesTexture></li>
          <li><variant>4</variant><suffix>_sad4</suffix><textureName>sad_mouth</textureName><eyesTexture>sad_eyes</eyesTexture></li>
          <li><variant>5</variant><suffix>_sad5</suffix><textureName>sad_mouth</textureName><eyesTexture>sad_eyes</eyesTexture></li>
        </variants>
      </li>
      
      <!-- Angry -->
      <li>
        <expression>Angry</expression>
        <suffix>_angry</suffix>
        <variants>
          <li><variant>1</variant><suffix>_angry1</suffix><textureName>angry_mouth</textureName><eyesTexture>angry_eyes</eyesTexture></li>
          <li><variant>2</variant><suffix>_angry2</suffix><textureName>angry_mouth</textureName><eyesTexture>angry_eyes</eyesTexture></li>
          <li><variant>3</variant><suffix>_angry3</suffix><textureName>angry_mouth</textureName><eyesTexture>angry_eyes</eyesTexture></li>
          <li><variant>4</variant><suffix>_angry4</suffix><textureName>angry_mouth</textureName><eyesTexture>angry_eyes</eyesTexture></li>
          <li><variant>5</variant><suffix>_angry5</suffix><textureName>angry_mouth</textureName><eyesTexture>angry_eyes</eyesTexture></li>
        </variants>
      </li>
      
      <!-- Surprised -->
      <li>
        <expression>Surprised</expression>
        <suffix>_surprised</suffix>
        <variants>
          <li><variant>1</variant><suffix>_surprised1</suffix><textureName>larger_mouth</textureName><eyesTexture>opened_eyes</eyesTexture></li>
          <li><variant>2</variant><suffix>_surprised2</suffix><textureName>larger_mouth</textureName><eyesTexture>opened_eyes</eyesTexture></li>
          <li><variant>3</variant><suffix>_surprised3</suffix><textureName>O_mouth</textureName><eyesTexture>opened_eyes</eyesTexture></li>
          <li><variant>4</variant><suffix>_surprised4</suffix><textureName>O_mouth</textureName><eyesTexture>opened_eyes</eyesTexture></li>
          <li><variant>5</variant><suffix>_surprised5</suffix><textureName>O_mouth</textureName><eyesTexture>opened_eyes</eyesTexture></li>
        </variants>
      </li>
      
      <!-- Worried -->
      <li>
        <expression>Worried</expression>
        <suffix>_worried</suffix>
        <variants>
          <li><variant>1</variant><suffix>_worried1</suffix><textureName>Neutral_mouth</textureName><eyesTexture>sad_eyes</eyesTexture></li>
          <li><variant>2</variant><suffix>_worried2</suffix><textureName>Neutral_mouth</textureName><eyesTexture>sad_eyes</eyesTexture></li>
          <li><variant>3</variant><suffix>_worried3</suffix><textureName>small_mouth</textureName><eyesTexture>sad_eyes</eyesTexture></li>
          <li><variant>4</variant><suffix>_worried4</suffix><textureName>small_mouth</textureName><eyesTexture>sad_eyes</eyesTexture></li>
          <li><variant>5</variant><suffix>_worried5</suffix><textureName>Closed_mouth</textureName><eyesTexture>sad_eyes</eyesTexture></li>
        </variants>
      </li>
      
      <!-- Smug -->
      <li>
        <expression>Smug</expression>
        <suffix>_smug</suffix>
        <variants>
          <li><variant>1</variant><suffix>_smug1</suffix><textureName>small1_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
          <li><variant>2</variant><suffix>_smug2</suffix><textureName>small1_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
          <li><variant>3</variant><suffix>_smug3</suffix><textureName>happy_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
          <li><variant>4</variant><suffix>_smug4</suffix><textureName>happy_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
          <li><variant>5</variant><suffix>_smug5</suffix><textureName>happy_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
        </variants>
      </li>
      
      <!-- Disappointed -->
      <li>
        <expression>Disappointed</expression>
        <suffix>_disappointed</suffix>
        <variants>
          <li><variant>1</variant><suffix>_disappointed1</suffix><textureName>sad_mouth</textureName><eyesTexture>sad_eyes</eyesTexture></li>
          <li><variant>2</variant><suffix>_disappointed2</suffix><textureName>sad_mouth</textureName><eyesTexture>sad_eyes</eyesTexture></li>
          <li><variant>3</variant><suffix>_disappointed3</suffix><textureName>sad_mouth</textureName><eyesTexture>closed_eyes</eyesTexture></li>
          <li><variant>4</variant><suffix>_disappointed4</suffix><textureName>Closed_mouth</textureName><eyesTexture>closed_eyes</eyesTexture></li>
          <li><variant>5</variant><suffix>_disappointed5</suffix><textureName>Closed_mouth</textureName><eyesTexture>closed_eyes</eyesTexture></li>
        </variants>
      </li>
      
      <!-- Thoughtful -->
      <li>
        <expression>Thoughtful</expression>
        <suffix>_thoughtful</suffix>
        <variants>
          <li><variant>1</variant><suffix>_thoughtful1</suffix><textureName>Neutral_mouth</textureName><eyesTexture>closed_eyes</eyesTexture></li>
          <li><variant>2</variant><suffix>_thoughtful2</suffix><textureName>Neutral_mouth</textureName><eyesTexture>closed_eyes</eyesTexture></li>
          <li><variant>3</variant><suffix>_thoughtful3</suffix><textureName>small_mouth</textureName><eyesTexture>opened_eyes</eyesTexture></li>
          <li><variant>4</variant><suffix>_thoughtful4</suffix><textureName>small_mouth</textureName><eyesTexture>opened_eyes</eyesTexture></li>
          <li><variant>5</variant><suffix>_thoughtful5</suffix><textureName>Closed_mouth</textureName><eyesTexture>opened_eyes</eyesTexture></li>
        </variants>
      </li>
      
      <!-- Annoyed -->
      <li>
        <expression>Annoyed</expression>
        <suffix>_annoyed</suffix>
        <variants>
          <li><variant>1</variant><suffix>_annoyed1</suffix><textureName>angry_mouth</textureName><eyesTexture>angry_eyes</eyesTexture></li>
          <li><variant>2</variant><suffix>_annoyed2</suffix><textureName>angry_mouth</textureName><eyesTexture>angry_eyes</eyesTexture></li>
          <li><variant>3</variant><suffix>_annoyed3</suffix><textureName>Closed_mouth</textureName><eyesTexture>angry_eyes</eyesTexture></li>
          <li><variant>4</variant><suffix>_annoyed4</suffix><textureName>Closed_mouth</textureName><eyesTexture>angry_eyes</eyesTexture></li>
          <li><variant>5</variant><suffix>_annoyed5</suffix><textureName>Neutral_mouth</textureName><eyesTexture>angry_eyes</eyesTexture></li>
        </variants>
      </li>
      
      <!-- Playful -->
      <li>
        <expression>Playful</expression>
        <suffix>_playful</suffix>
        <variants>
          <li><variant>1</variant><suffix>_playful1</suffix><textureName>happy_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
          <li><variant>2</variant><suffix>_playful2</suffix><textureName>happy_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
          <li><variant>3</variant><suffix>_playful3</suffix><textureName>larger_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
          <li><variant>4</variant><suffix>_playful4</suffix><textureName>larger_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
          <li><variant>5</variant><suffix>_playful5</suffix><textureName>larger_mouth</textureName><eyesTexture>happy_eyes</eyesTexture></li>
        </variants>
      </li>
      
      <!-- Shy -->
      <li>
        <expression>Shy</expression>
        <suffix>_shy</suffix>
        <variants>
          <li><variant>1</variant><suffix>_shy1</suffix><textureName>Closed_mouth</textureName><eyesTexture>closed_eyes</eyesTexture></li>
          <li><variant>2</variant><suffix>_shy2</suffix><textureName>Closed_mouth</textureName><eyesTexture>closed_eyes</eyesTexture></li>
          <li><variant>3</variant><suffix>_shy3</suffix><textureName>small1_mouth</textureName><eyesTexture>closed_eyes</eyesTexture></li>
          <li><variant>4</variant><suffix>_shy4</suffix><textureName>small1_mouth</textureName><eyesTexture>closed_eyes</eyesTexture></li>
          <li><variant>5</variant><suffix>_shy5</suffix><textureName>happy_mouth</textureName><eyesTexture>closed_eyes</eyesTexture></li>
        </variants>
      </li>
      
      <!-- Confused -->
      <li>
        <expression>Confused</expression>
        <suffix>_confused</suffix>
        <variants>
          <li><variant>1</variant><suffix>_confused1</suffix><textureName>Neutral_mouth</textureName><eyesTexture>confused_eyes</eyesTexture></li>
          <li><variant>2</variant><suffix>_confused2</suffix><textureName>Neutral_mouth</textureName><eyesTexture>confused_eyes</eyesTexture></li>
          <li><variant>3</variant><suffix>_confused3</suffix><textureName>small_mouth</textureName><eyesTexture>confused_eyes</eyesTexture></li>
          <li><variant>4</variant><suffix>_confused4</suffix><textureName>small_mouth</textureName><eyesTexture>confused_eyes</eyesTexture></li>
          <li><variant>5</variant><suffix>_confused5</suffix><textureName>O_mouth</textureName><eyesTexture>confused_eyes</eyesTexture></li>
        </variants>
      </li>
    </expressions>
    
    <!-- 说话/口型映射 -->
    <speaking>
      <!-- Viseme 到纹理的映射 -->
      <visemeMap>
        <li><viseme>Closed</viseme><textureName>Closed_mouth</textureName></li>
        <li><viseme>Small</viseme><textureName>USE_BASE</textureName></li>
        <li><viseme>Medium</viseme><textureName>medium_mouth</textureName></li>
        <li><viseme>Large</viseme><textureName>larger_mouth</textureName></li>
        <li><viseme>Smile</viseme><textureName>happy_mouth</textureName></li>
        <li><viseme>OShape</viseme><textureName>O_mouth</textureName></li>
      </visemeMap>
      
      <!-- 开合度到 Viseme 的映射阈值 -->
      <opennessThresholds>
        <li><threshold>0.10</threshold><viseme>Closed</viseme></li>
        <li><threshold>0.30</threshold><viseme>Small</viseme></li>
        <li><threshold>0.55</threshold><viseme>Medium</viseme></li>
        <li><threshold>0.80</threshold><viseme>Large</viseme></li>
        <li><threshold>1.00</threshold><viseme>OShape</viseme></li>
      </opennessThresholds>
      
      <!-- Azure Viseme ID 到纹理的映射 -->
      <azureVisemeMap>
        <!-- Closed -->
        <li><azureId>0</azureId><textureName>Closed_mouth</textureName></li>
        <li><azureId>21</azureId><textureName>Closed_mouth</textureName></li>
        
        <!-- Large -->
        <li><azureId>1</azureId><textureName>larger_mouth</textureName></li>
        <li><azureId>2</azureId><textureName>larger_mouth</textureName></li>
        <li><azureId>9</azureId><textureName>larger_mouth</textureName></li>
        <li><azureId>11</azureId><textureName>larger_mouth</textureName></li>
        
        <!-- Smile -->
        <li><azureId>6</azureId><textureName>happy_mouth</textureName></li>
        <li><azureId>7</azureId><textureName>happy_mouth</textureName></li>
        <li><azureId>8</azureId><textureName>happy_mouth</textureName></li>
        
        <!-- OShape -->
        <li><azureId>3</azureId><textureName>O_mouth</textureName></li>
        <li><azureId>13</azureId><textureName>O_mouth</textureName></li>
        <li><azureId>14</azureId><textureName>O_mouth</textureName></li>
        
        <!-- Medium -->
        <li><azureId>4</azureId><textureName>medium_mouth</textureName></li>
        <li><azureId>5</azureId><textureName>medium_mouth</textureName></li>
        <li><azureId>10</azureId><textureName>medium_mouth</textureName></li>
        <li><azureId>15</azureId><textureName>medium_mouth</textureName></li>
        <li><azureId>16</azureId><textureName>medium_mouth</textureName></li>
        
        <!-- Neutral / Base -->
        <li><azureId>12</azureId><textureName>USE_BASE</textureName></li>
        <li><azureId>17</azureId><textureName>USE_BASE</textureName></li>
        <li><azureId>18</azureId><textureName>USE_BASE</textureName></li>
        <li><azureId>19</azureId><textureName>USE_BASE</textureName></li>
        <li><azureId>20</azureId><textureName>USE_BASE</textureName></li>
      </azureVisemeMap>
    </speaking>
  </TheSecondSeat.PersonaGeneration.RenderTreeDef>
</Defs>
