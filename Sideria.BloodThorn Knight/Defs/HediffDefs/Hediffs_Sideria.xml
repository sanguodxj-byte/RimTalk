<?xml version="1.0" encoding="utf-8"?>
<Defs>
	<!-- ========================================
		 血原质资源系统 (Blood Essence)
		 核心资源，用于释放战斗技能
	========================================= -->
	<HediffDef ParentName="DiseaseBase">
		<defName>Sideria_BloodEssence</defName>
		<label>blood essence</label>
		<labelNoun>blood essence</labelNoun>
		<description>A mystical energy flowing through the veins, combining dragon vitality and vampiric power. Can be expended to unleash devastating combat abilities.</description>
		<hediffClass>HediffWithComps</hediffClass>
		<defaultLabelColor>(0.8, 0.1, 0.2)</defaultLabelColor>
		<isBad>false</isBad>
		<initialSeverity>1.0</initialSeverity>
		<minSeverity>0</minSeverity>
		<maxSeverity>1.0</maxSeverity>
		<tendable>false</tendable>
		<comps>
			<!-- 自动回复血原质 -->
			<li Class="HediffCompProperties_SeverityPerDay">
				<severityPerDay>0.3</severityPerDay> <!-- 每天回复30% -->
			</li>
		</comps>
		<stages>
			<!-- 血原质枯竭 (0-20%) -->
			<li>
				<minSeverity>0</minSeverity>
				<label>depleted</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>-0.05</offset>
					</li>
				</capMods>
			</li>
			<!-- 血原质不足 (20-50%) -->
			<li>
				<minSeverity>0.2</minSeverity>
				<label>low</label>
			</li>
			<!-- 血原质充足 (50-80%) -->
			<li>
				<minSeverity>0.5</minSeverity>
				<label>充足</label>
				<statOffsets>
					<MoveSpeed>0.15</MoveSpeed>
					<MeleeDodgeChance>0.05</MeleeDodgeChance>
				</statOffsets>
			</li>
			<!-- 血原质充盈 (80-100%) -->
			<li>
				<minSeverity>0.8</minSeverity>
				<label>surging</label>
				<statOffsets>
					<MoveSpeed>0.3</MoveSpeed>
					<MeleeDodgeChance>0.08</MeleeDodgeChance>
					<MeleeHitChance>0.03</MeleeHitChance>
				</statOffsets>
			</li>
		</stages>
	</HediffDef>

	<!-- ========================================
		 血族龙裔体质 (Draconic Vampire Constitution)
		 永久被动效果
	========================================= -->
	<HediffDef>
		<defName>Sideria_DraconicVampireBody</defName>
		<label>draconic vampire physiology</label>
		<description>A unique hybrid constitution combining dragon's resilience with vampire's regenerative powers. Grants enhanced durability, rapid healing, and immunity to diseases.</description>
		<hediffClass>HediffWithComps</hediffClass>
		<defaultLabelColor>(0.6, 0.2, 0.4)</defaultLabelColor>
		<isBad>false</isBad>
		<maxSeverity>1.0</maxSeverity>
		<stages>
			<li>
				<label>active</label>
				<!-- 坚韧身躯：龙族特性 -->
				<capMods>
					<li>
						<capacity>Moving</capacity>
						<offset>0.15</offset>
					</li>
					<li>
						<capacity>Manipulation</capacity>
						<offset>0.10</offset>
					</li>
				</capMods>
				<statOffsets>
					<!-- 高速回复：血族特性 -->
					<InjuryHealingFactor>2.0</InjuryHealingFactor>
					<ImmunityGainSpeed>2.0</ImmunityGainSpeed>
					<!-- 坦度加成 -->
					<ArmorRating_Sharp>0.25</ArmorRating_Sharp>
					<ArmorRating_Blunt>0.25</ArmorRating_Blunt>
					<ArmorRating_Heat>0.55</ArmorRating_Heat>
					<!-- 近战强化 -->
					<MeleeDodgeChance>0.27</MeleeDodgeChance>
					<MeleeHitChance>0.18</MeleeHitChance>
				</statOffsets>
				<statFactors>
					<IncomingDamageFactor>0.75</IncomingDamageFactor>
					<PainShockThreshold>2.0</PainShockThreshold>
				</statFactors>
				<!-- 免疫疾病 -->
				<makeImmuneTo>
					<li>Flu</li>
					<li>Plague</li>
					<li>GutWorms</li>
					<li>MuscleParasites</li>
					<li>FibrousMechanites</li>
					<li>SensoryMechanites</li>
					<li>WoundInfection</li>
					<li>Malaria</li>
					<li>SleepingSickness</li>
				</makeImmuneTo>
			</li>
		</stages>
	</HediffDef>

	<!-- ========================================
		 技能效果：血棘突刺 (Blood Thorn Strike)
		 消耗血原质释放
	========================================= -->
	<HediffDef>
		<defName>Sideria_BloodThornStrike_Buff</defName>
		<label>blood thorn strike</label>
		<description>Thorns of blood energy enhance attacks, dealing massive damage.</description>
		<hediffClass>HediffWithComps</hediffClass>
		<defaultLabelColor>(1.0, 0.2, 0.3)</defaultLabelColor>
		<isBad>false</isBad>
		<maxSeverity>1.0</maxSeverity>
		<comps>
			<li Class="HediffCompProperties_Disappears">
				<disappearsAfterTicks>300</disappearsAfterTicks> <!-- 5秒 -->
			</li>
		</comps>
		<stages>
			<li>
				<statOffsets>
					<MeleeHitChance>0.20</MeleeHitChance>
				</statOffsets>
				<statFactors>
					<MeleeDamageFactor>2.0</MeleeDamageFactor>
				</statFactors>
			</li>
		</stages>
	</HediffDef>

	<!-- ========================================
		 技能效果：血之疾行 (Blood Rush)
		 消耗血原质释放
	========================================= -->
	<HediffDef>
		<defName>Sideria_BloodRush_Buff</defName>
		<label>blood rush</label>
		<description>Blood energy surges through the body, granting incredible speed and evasion.</description>
		<hediffClass>HediffWithComps</hediffClass>
		<defaultLabelColor>(1.0, 0.3, 0.3)</defaultLabelColor>
		<isBad>false</isBad>
		<maxSeverity>1.0</maxSeverity>
		<comps>
			<li Class="HediffCompProperties_Disappears">
				<disappearsAfterTicks>450</disappearsAfterTicks> <!-- 7.5秒 -->
			</li>
		</comps>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Moving</capacity>
						<offset>0.5</offset>
					</li>
				</capMods>
				<statOffsets>
					<MeleeDodgeChance>0.30</MeleeDodgeChance>
					<MoveSpeed>2.0</MoveSpeed>
				</statOffsets>
			</li>
		</stages>
	</HediffDef>

	<!-- ========================================
		 技能效果：血肉重铸 (Sanguine Reforge)
		 消耗血原质治疗伤口
	========================================= -->
	<HediffDef>
		<defName>Sideria_SanguineReforge_Heal</defName>
		<label>sanguine reforge</label>
		<description>Blood magic accelerates regeneration, rapidly healing wounds.</description>
		<hediffClass>HediffWithComps</hediffClass>
		<defaultLabelColor>(0.8, 0.2, 0.5)</defaultLabelColor>
		<isBad>false</isBad>
		<maxSeverity>1.0</maxSeverity>
		<comps>
			<li Class="HediffCompProperties_Disappears">
				<disappearsAfterTicks>600</disappearsAfterTicks> <!-- 10秒 -->
			</li>
		</comps>
		<stages>
			<li>
				<statOffsets>
					<InjuryHealingFactor>5.0</InjuryHealingFactor>
				</statOffsets>
			</li>
		</stages>
	</HediffDef>

	<!-- ========================================
		 技能效果：龙血护盾 (Dragonblood Aegis)
		 消耗血原质获得护盾
	========================================= -->
	<HediffDef>
		<defName>Sideria_DragonbloodAegis_Shield</defName>
		<label>dragonblood aegis</label>
		<description>Dragon essence manifests as a protective barrier, absorbing incoming damage.</description>
		<hediffClass>HediffWithComps</hediffClass>
		<defaultLabelColor>(0.4, 0.2, 0.8)</defaultLabelColor>
		<isBad>false</isBad>
		<maxSeverity>1.0</maxSeverity>
		<comps>
			<li Class="HediffCompProperties_Disappears">
				<disappearsAfterTicks>900</disappearsAfterTicks> <!-- 15秒 -->
			</li>
		</comps>
		<stages>
			<li>
				<statOffsets>
					<ArmorRating_Sharp>0.5</ArmorRating_Sharp>
					<ArmorRating_Blunt>0.5</ArmorRating_Blunt>
					<ArmorRating_Heat>0.3</ArmorRating_Heat>
				</statOffsets>
				<statFactors>
					<IncomingDamageFactor>0.5</IncomingDamageFactor>
				</statFactors>
			</li>
		</stages>
	</HediffDef>

	<!-- ========================================
		 战斗状态：嗜血狂怒 (Bloodthirst Frenzy)
		 低血量时触发
	========================================= -->
	<HediffDef>
		<defName>Sideria_BloodthirstFrenzy</defName>
		<label>bloodthirst frenzy</label>
		<description>When wounded, vampiric instincts awaken, dramatically increasing combat prowess at the cost of reasoning.</description>
		<hediffClass>HediffWithComps</hediffClass>
		<defaultLabelColor>(1.0, 0.0, 0.0)</defaultLabelColor>
		<isBad>false</isBad>
		<maxSeverity>1.0</maxSeverity>
		<stages>
			<li>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>0.2</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>0.3</offset>
					</li>
					<li>
						<capacity>Manipulation</capacity>
						<offset>0.2</offset>
					</li>
				</capMods>
				<statOffsets>
					<MeleeHitChance>0.15</MeleeHitChance>
				</statOffsets>
				<statFactors>
					<IncomingDamageFactor>0.6</IncomingDamageFactor>
					<MeleeDamageFactor>1.5</MeleeDamageFactor>
					<PainShockThreshold>2.0</PainShockThreshold>
				</statFactors>
			</li>
		</stages>
	</HediffDef>

</Defs>
