<?xml version="1.0" encoding="utf-8"?>
<Defs>
	<!-- ========================================
		 双路线成长系统：龙魂 vs 血骸
		 
		 龙魂（Dragon Soul）- 正义之路
		 - 正面行为增加（击退袭击、帮助乞丐、完成任务）
		 - 达到100%：移除血骸，阿茨冈德升华
		 
		 血骸（Blood Curse）- 堕落之路
		 - 负面行为增加（杀害友方、收割器官、任务失败）
		 - 达到100%：移除龙魂，转变为弃誓者
		 
		 机制：
		 - 两者上下限：0%-100%
		 - 总和上限：100%
		 - 一方增加会挤压另一方
		 - 每20%解锁新技能
	========================================= -->

	<!-- ========================================
		 龙魂（Dragon Soul）- 正义之魂
	========================================= -->
	<HediffDef ParentName="DiseaseBase">
		<defName>Sideria_DragonSoul</defName>
		<label>dragon soul</label>
		<description>The draconic essence within Sideria, strengthened by righteous deeds. As she protects the innocent and upholds her knightly honor, her dragon heritage awakens, granting her enhanced abilities and noble power.\n\nRighteous actions increase Dragon Soul:\n? Defeating raiders\n? Helping refugees\n? Completing quests honorably\n? Protecting allies\n\nEvery 20% unlocks new abilities. At 100%, her blade Atzgand will ascend to its ultimate form.</description>
		<labelNoun>dragon soul essence</labelNoun>
		<descriptionHyperlinks>
			<AbilityDef>Sideria_DragonBreath</AbilityDef>
			<AbilityDef>Sideria_DragonicAura</AbilityDef>
			<AbilityDef>Sideria_DragonWings</AbilityDef>
			<AbilityDef>Sideria_DragonicTransformation</AbilityDef>
		</descriptionHyperlinks>
		
		<hediffClass>HediffWithComps</hediffClass>
		<defaultLabelColor>(0.8, 0.6, 0.2)</defaultLabelColor> <!-- 金色 -->
		<makesSickThought>false</makesSickThought>
		<tendable>false</tendable>
		<isBad>false</isBad>
		<everCurableByItem>false</everCurableByItem>
		<initialSeverity>0</initialSeverity>
		<minSeverity>0</minSeverity>
		<maxSeverity>1.0</maxSeverity>
		<chronic>true</chronic>
		
		<!-- 阶段：每20%一个阶段 -->
		<stages>
			<!-- 0-19%: 微弱 -->
			<li>
				<minSeverity>0</minSeverity>
				<label>dormant</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>0.02</offset>
					</li>
				</capMods>
			</li>
			
			<!-- 20-39%: 觉醒 - 解锁龙息 -->
			<li>
				<minSeverity>0.2</minSeverity>
				<label>awakening</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>0.05</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>0.05</offset>
					</li>
				</capMods>
				<statOffsets>
					<MeleeHitChance>2</MeleeHitChance>
					<MeleeDodgeChance>2</MeleeDodgeChance>
				</statOffsets>
			</li>
			
			<!-- 40-59%: 增长 - 解锁龙之光环 -->
			<li>
				<minSeverity>0.4</minSeverity>
				<label>growing</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>0.08</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>0.1</offset>
					</li>
				</capMods>
				<statOffsets>
					<MeleeHitChance>4</MeleeHitChance>
					<MeleeDodgeChance>4</MeleeDodgeChance>
					<ArmorRating_Sharp>0.1</ArmorRating_Sharp>
					<ArmorRating_Blunt>0.1</ArmorRating_Blunt>
				</statOffsets>
			</li>
			
			<!-- 60-79%: 强盛 - 解锁龙翼 -->
			<li>
				<minSeverity>0.6</minSeverity>
				<label>flourishing</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>0.12</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>0.15</offset>
					</li>
				</capMods>
				<statOffsets>
					<MeleeHitChance>6</MeleeHitChance>
					<MeleeDodgeChance>6</MeleeDodgeChance>
					<ArmorRating_Sharp>0.15</ArmorRating_Sharp>
					<ArmorRating_Blunt>0.15</ArmorRating_Blunt>
					<PainShockThreshold>0.1</PainShockThreshold>
				</statOffsets>
			</li>
			
			<!-- 80-99%: 璀璨 - 解锁龙化 -->
			<li>
				<minSeverity>0.8</minSeverity>
				<label>radiant</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>0.15</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>0.2</offset>
					</li>
				</capMods>
				<statOffsets>
					<MeleeHitChance>8</MeleeHitChance>
					<MeleeDodgeChance>8</MeleeDodgeChance>
					<ArmorRating_Sharp>0.2</ArmorRating_Sharp>
					<ArmorRating_Blunt>0.2</ArmorRating_Blunt>
					<PainShockThreshold>0.15</PainShockThreshold>
					<InjuryHealingFactor>0.2</InjuryHealingFactor>
				</statOffsets>
			</li>
			
			<!-- 100%: 完美 - 阿茨冈德升华 -->
			<li>
				<minSeverity>1.0</minSeverity>
				<label>ascended</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>0.2</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>0.3</offset>
					</li>
				</capMods>
				<statOffsets>
					<MeleeHitChance>12</MeleeHitChance>
					<MeleeDodgeChance>12</MeleeDodgeChance>
					<ArmorRating_Sharp>0.3</ArmorRating_Sharp>
					<ArmorRating_Blunt>0.3</ArmorRating_Blunt>
					<PainShockThreshold>0.25</PainShockThreshold>
					<InjuryHealingFactor>0.5</InjuryHealingFactor>
				</statOffsets>
			</li>
		</stages>
		
		<comps>
			<!-- 龙魂发光效果：金色光晕 -->
		</comps>
	</HediffDef>

	<!-- ========================================
		 血骸（Blood Curse）- 堕落诅咒
	========================================= -->
	<HediffDef ParentName="DiseaseBase">
		<defName>Sideria_BloodCurse_Progression</defName>
		<label>blood curse</label>
		<description>The vampiric curse within Sideria, strengthened by dark deeds and bloodshed. As she commits atrocities and betrays her oath, the curse consumes her noble spirit, granting terrible power at the cost of her soul.\n\nDark actions increase Blood Curse:\n? Killing allies or guests\n? Harvesting organs\n? Failing quests dishonorably\n? Betraying trust\n\nEvery 20% unlocks new dark abilities. At 100%, she becomes an Oathbreaker, able to drain massive blood essence from kills.</description>
		<labelNoun>blood curse corruption</labelNoun>
		<descriptionHyperlinks>
			<AbilityDef>Sideria_BloodDrain</AbilityDef>
			<AbilityDef>Sideria_VampiricEmbrace</AbilityDef>
			<AbilityDef>Sideria_BloodFrenzy</AbilityDef>
			<AbilityDef>Sideria_OathbreakerTransformation</AbilityDef>
		</descriptionHyperlinks>
		
		<hediffClass>HediffWithComps</hediffClass>
		<defaultLabelColor>(0.6, 0.1, 0.1)</defaultLabelColor> <!-- 深红色 -->
		<makesSickThought>false</makesSickThought>
		<tendable>false</tendable>
		<isBad>true</isBad>
		<everCurableByItem>false</everCurableByItem>
		<initialSeverity>0</initialSeverity>
		<minSeverity>0</minSeverity>
		<maxSeverity>1.0</maxSeverity>
		<chronic>true</chronic>
		
		<!-- 阶段：每20%一个阶段 -->
		<stages>
			<!-- 0-19%: 潜伏 -->
			<li>
				<minSeverity>0</minSeverity>
				<label>latent</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>-0.02</offset>
					</li>
				</capMods>
			</li>
			
			<!-- 20-39%: 侵蚀 - 解锁血液汲取 -->
			<li>
				<minSeverity>0.2</minSeverity>
				<label>corrupting</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>0.03</offset>
					</li>
				</capMods>
				<statOffsets>
					<MeleeHitChance>3</MeleeHitChance>
					<MeleeDPS>0.2</MeleeDPS>
				</statOffsets>
			</li>
			
			<!-- 40-59%: 蔓延 - 解锁血族拥抱 -->
			<li>
				<minSeverity>0.4</minSeverity>
				<label>spreading</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>0.06</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>0.08</offset>
					</li>
				</capMods>
				<statOffsets>
					<MeleeHitChance>5</MeleeHitChance>
					<MeleeDPS>0.4</MeleeDPS>
					<PsychicSensitivity>-0.2</PsychicSensitivity>
				</statOffsets>
			</li>
			
			<!-- 60-79%: 吞噬 - 解锁血之狂怒 -->
			<li>
				<minSeverity>0.6</minSeverity>
				<label>devouring</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>0.1</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>0.12</offset>
					</li>
				</capMods>
				<statOffsets>
					<MeleeHitChance>7</MeleeHitChance>
					<MeleeDPS>0.6</MeleeDPS>
					<PsychicSensitivity>-0.4</PsychicSensitivity>
					<MentalBreakThreshold>-0.1</MentalBreakThreshold>
				</statOffsets>
			</li>
			
			<!-- 80-99%: 掌控 - 解锁弃誓者转化 -->
			<li>
				<minSeverity>0.8</minSeverity>
				<label>dominating</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>0.15</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>0.18</offset>
					</li>
				</capMods>
				<statOffsets>
					<MeleeHitChance>10</MeleeHitChance>
					<MeleeDPS>0.8</MeleeDPS>
					<PsychicSensitivity>-0.6</PsychicSensitivity>
					<MentalBreakThreshold>-0.15</MentalBreakThreshold>
					<ArmorRating_Sharp>0.1</ArmorRating_Sharp>
				</statOffsets>
			</li>
			
			<!-- 100%: 弃誓者 - 完全堕落 -->
			<li>
				<minSeverity>1.0</minSeverity>
				<label>oathbreaker</label>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>0.25</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>0.25</offset>
					</li>
				</capMods>
				<statOffsets>
					<MeleeHitChance>15</MeleeHitChance>
					<MeleeDPS>1.2</MeleeDPS>
					<PsychicSensitivity>-1.0</PsychicSensitivity>
					<MentalBreakThreshold>-0.25</MentalBreakThreshold>
					<ArmorRating_Sharp>0.15</ArmorRating_Sharp>
					<ArmorRating_Blunt>0.1</ArmorRating_Blunt>
				</statOffsets>
			</li>
		</stages>
		
		<comps>
			<!-- 血骸暗红光晕 -->
		</comps>
	</HediffDef>

	<!-- ========================================
		 龙魂完美状态标记（100%时添加）
	========================================= -->
	<HediffDef>
		<defName>Sideria_DragonSoul_Ascended</defName>
		<label>dragon soul ascended</label>
		<description>Sideria's draconic heritage has reached its ultimate potential. Her blade Atzgand has transformed into its true divine form, and she has become a beacon of justice and honor.</description>
		<labelNoun>ascension</labelNoun>
		<hediffClass>HediffWithComps</hediffClass>
		<defaultLabelColor>(1.0, 0.9, 0.5)</defaultLabelColor>
		<isBad>false</isBad>
		<initialSeverity>1</initialSeverity>
		<maxSeverity>1</maxSeverity>
	</HediffDef>

	<!-- ========================================
		 弃誓者状态标记（100%时添加）
	========================================= -->
	<HediffDef>
		<defName>Sideria_Oathbreaker_Transformed</defName>
		<label>oathbreaker</label>
		<description>Sideria has fully embraced the vampiric curse, becoming an Oathbreaker. She can drain massive amounts of blood essence from kills, but has lost her noble spirit forever.</description>
		<labelNoun>oath betrayed</labelNoun>
		<hediffClass>HediffWithComps</hediffClass>
		<defaultLabelColor>(0.8, 0.0, 0.0)</defaultLabelColor>
		<isBad>true</isBad>
		<initialSeverity>1</initialSeverity>
		<maxSeverity>1</maxSeverity>
		
		<comps>
			<!-- 击杀敌人恢复大量血原质 -->
			<li Class="HediffCompProperties_MessageOnRemoval">
				<message>Sideria has become an Oathbreaker. She can now drain blood essence directly from kills.</message>
			</li>
		</comps>
	</HediffDef>

</Defs>
