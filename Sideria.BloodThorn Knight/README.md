# Sideria - BloodThorn Knight (希德莉亚・血棘骑士)

## RimWorld 特殊角色模组

### 模组说明
这是一个RimWorld特殊角色模组，引入传奇战士**希德莉亚・血棘骑士**。

希德莉亚是龙族与血族的混血后裔，拥有龙的坚韧体质和血族的超速再生能力。她掌握了独特的**血原质系统**，可以消耗血原质释放强力的近战战斗技能。她携带着传说之剑**阿茨冈德（Atzgand）**，一把与她生物编码绑定的活体之刃。

---

## ?? 核心特性

### **血原质资源系统**
- 希德莉亚拥有独特的**血原质（Blood Essence）**资源
- 血原质自动缓慢回复（每天30%）
- 击杀敌人可以快速回复血原质（需C#代码）
- 血原质充盈时获得移动速度和闪避加成
- 血原质枯竭时会受到负面效果

### **血族龙裔体质**
- **龙族特性**：坚韧身躯，高护甲抗性（+25%），抗热能力（+55%）
- **血族特性**：超高速伤口愈合（3x速度），疾病免疫
- 大幅提升近战命中（+18%）、闪避（+27%）和伤害（+1.5）
- 减少25%受到的伤害
- 降低饥饿和疲劳需求（-50%）

### **高频近战技能系统**
希德莉亚可以消耗血原质释放以下战斗技能：

1. **血棘突刺** - 消耗15%血原质，8秒CD
   - 5秒内攻击力+15，护甲穿透+0.5

2. **血之疾行** - 消耗20%血原质，15秒CD
   - 7.5秒内速度+2.0，闪避+30%

3. **血肉重铸** - 消耗30%血原质，30秒CD
   - 10秒内治疗速度+500%

4. **龙血护盾** - 消耗40%血原质，45秒CD
   - 15秒内护甲+0.5，伤害减免50%

5. **血棘风暴** - 消耗60%血原质，60秒CD
   - 范围15格AOE攻击

*注意：技能手动触发需要Royalty DLC或自定义C#代码*

### **专属特质**
- **血棘掌控者**：传奇战士，精通血魔法与龙之力
- **龙裔血脉**：龙族遗产，坚韧且抗高温
- **血族真祖**：血族始祖，超强再生能力
- **骑士荣耀**：恪守骑士准则，鼓舞盟友

### **专属武器：阿茨冈德（Atzgand）**
```
类型：传说长剑（生物编码）
伤害：34-42
护甲穿透：0.45-0.60
攻速：1.4-1.8秒
特殊：灼烧+8，发光效果，永不腐朽
价值：8000银
绑定：仅限希德莉亚使用
```

#### 血之共鸣机制
- 希德莉亚开局默认装备阿茨冈德
- 武器已生物编码绑定，其他人无法使用
- 未来版本将支持：装备任意传奇长剑时自动转化为阿茨冈德（需C#代码）

---

## ?? 文件结构

```
Sideria.BloodThorn Knight/
├── About/
│   ├── About.xml                    # 模组元数据
│   ├── Preview.png                  # Steam预览图
│   └── PublishedFileId.txt          # Steam Workshop ID
│
├── Defs/                            # 游戏定义文件
│   ├── PawnKindDefs/                # 角色类型
│   │   └── PawnKinds_Sideria.xml
│   ├── ThingDefs_Weapons/           # 武器定义
│   │   └── Weapons_Sideria.xml      # 阿茨冈德
│   ├── BackstoryDefs/               # 背景故事
│   │   └── Backstories_Sideria.xml
│   ├── TraitDefs/                   # 特质系统
│   │   └── Traits_Sideria.xml
│   ├── HediffDefs/                  # 血原质和体质
│   │   └── Hediffs_Sideria.xml
│   ├── ThoughtDefs/                 # 思想/心情
│   │   └── Thoughts_Sideria.xml
│   ├── AbilityDefs/                 # 技能定义
│   │   └── Abilities_Sideria.xml
│   └── ScenarioDefs/                # 开局场景
│       └── Scenarios_Sideria.xml
│
├── Languages/                       # 多语言支持
│   ├── English/Keyed/Keys.xml       # 英文翻译
│   └── ChineseSimplified/Keyed/Keys.xml  # 中文翻译
│
├── Textures/                        # 贴图资源（待添加）
│   ├── Things/Weapons/Atzgand.png
│   └── UI/Abilities/
│
├── Assemblies/                      # C#代码DLL（可选）
└── 文档/
    ├── README.md                    # 项目说明
    ├── DESIGN.md                    # 设计文档
    ├── TODO.md                      # 开发清单
    ├── QUICK_REFERENCE.md           # 快速参考
    ├── ATZGAND_IMPLEMENTATION.md    # 武器转化实现指南
    └── CHANGELOG_ATZGAND.md         # 阿茨冈德更新日志
```

---

## ?? 游戏数据

### 基础属性
- **战斗力**：350（传奇级）
- **年龄**：500-9999岁（不朽之躯）
- **意志力**：8-10（极高）
- **抗性**：25-30（极高）

### 技能等级
- **近战**：16-20（大师级）
- **医疗**：10-14（精通治疗）
- **社交**：8-12
- **射击**：6-10
- **智识**：6-10
- **艺术**：4-8

### 战斗数据
| 属性 | 基础值 | 充盈状态 |
|------|--------|----------|
| 移动速度 | +0.15 | +0.3 |
| 闪避率 | +27% | +35% |
| 命中率 | +18% | +21% |
| 近战DPS | +1.5 | +1.5 |
| 护甲（锋利） | +25% | +25% |
| 护甲（钝击） | +25% | +25% |
| 护甲（高温） | +55% | +55% |
| 伤害减免 | -25% | -25% |
| 伤口愈合 | +300% | +300% |

### 阿茨冈德武器数据
| 攻击方式 | 伤害 | 冷却 | 穿甲 | 特殊 |
|----------|------|------|------|------|
| 柄击 | 15 | 1.8s | 0 | 钝击 |
| 刺击 | 38 | 1.4s | 0.55 | - |
| 斩击 | 34 | 1.5s | 0.45 | - |
| 荆棘斩 | 42 | 1.8s | 0.60 | 灼烧+8 |

---

## ?? 安装方法

### Steam创意工坊（推荐）
1. 订阅本模组
2. 在游戏模组菜单中启用
3. 创建新游戏，选择"血棘骑士"场景

### 手动安装
1. 将整个文件夹复制到RimWorld模组目录：
   - Windows: `C:\Program Files (x86)\Steam\steamapps\common\RimWorld\Mods\`
   - 或：`%USERPROFILE%\AppData\LocalLow\Ludeon Studios\RimWorld by Ludeon Studios\Mods\`

2. 在游戏中启用模组

3. 创建新游戏，选择"BloodThorn Knight"场景开始

---

## ?? 游戏开局

### 单人场景：血棘骑士
- **角色**：希德莉亚
- **装备**：阿茨冈德（已生物编码）
- **资源**：
  - 银币×1000
  - 生存餐×40
  - 药品×30
  - 钢铁×450
  - 木材×300
  - 零件×30

### 小队场景：血棘骑士团
- **角色**：希德莉亚 + 2名普通血骑士
- **装备**：阿茨冈德 + 其他武器
- **资源**：更多的起始资源

---

## ?? 待完成任务

### 高优先级
- [ ] **阿茨冈德贴图**（必需）
  - [ ] 武器主体贴图
  - [ ] 发光效果
- [ ] **技能图标**（5个）
- [ ] **角色头像**
- [ ] **测试平衡性**

### 中优先级
- [ ] **C#武器转化系统**
  - [ ] 装备事件监听
  - [ ] 传奇长剑检测
  - [ ] 自动转化逻辑
- [ ] **血原质UI显示条**
- [ ] **击杀回复机制**
- [ ] **技能手动触发**

### 低优先级
- [ ] 角色全身贴图
- [ ] 转化特效
- [ ] 攻击音效
- [ ] 专属护甲

---

## ?? 技术说明

### 血原质系统实现
使用HediffDef的severity值（0-1）表示血原质（0%-100%）：
```xml
充盈 (0.8-1.0): 移速+0.3, 闪避+8, 命中+3, 心情+10
充足 (0.5-0.79): 移速+0.15, 闪避+5
不足 (0.2-0.49): 无加成
枯竭 (0-0.19): 意识-5%, 心情-12
```

### 生物编码实现
使用原版`CompBiocodable`组件：
```xml
<comps>
  <li Class="CompProperties_Biocodable" />
</comps>
```
- 只有希德莉亚能使用阿茨冈德
- 其他人尝试装备会看到"生物编码限制"提示
- 原版系统，兼容性好

### 武器转化机制（未来版本）
参见 **ATZGAND_IMPLEMENTATION.md** 获取完整实现方案：
- Harmony补丁监听装备事件
- 检测传奇长剑
- 自动转化为阿茨冈德
- 应用生物编码

---

## ?? 注意事项

1. **XML编码**：所有XML文件使用UTF-8编码
2. **命名规范**：所有defName使用"Sideria_"前缀
3. **生物编码**：阿茨冈德只能被希德莉亚使用
4. **技能触发**：当前版本技能效果自动应用，手动触发需要C#代码
5. **平衡性**：希德莉亚是传奇级角色，适合高难度游戏
6. **存档兼容**：新存档完美支持，旧存档需重新生成角色

---

## ?? 依赖和兼容性

### 基础版本（当前）
- **RimWorld版本**：1.5+
- **依赖**：无
- **功能**：完整的角色系统，被动技能效果

### 完整版本（未来）
- **依赖**：Harmony
- **可选**：Royalty DLC
- **功能**：手动技能触发，武器转化，血原质UI

### 模组兼容性
? 原版游戏
? Royalty DLC
? Ideology DLC
? 大部分武器模组
?? Combat Extended（待测试）

---

## ?? 详细文档

- **QUICK_REFERENCE.md** - 快速参考（数据速查表）
- **DESIGN.md** - 设计文档（完整设计方案）
- **TODO.md** - 开发清单（任务追踪）
- **ATZGAND_IMPLEMENTATION.md** - C#实现指南
- **CHANGELOG_ATZGAND.md** - 阿茨冈德更新日志
- **PROJECT_SUMMARY.md** - 项目总结

---

## ?? 贴图资源需求

### 阿茨冈德武器
- **尺寸**：建议256×256或512×512
- **风格**：深红色，荆棘装饰，发光效果
- **格式**：PNG，透明背景
- **路径**：`Textures/Things/Weapons/Atzgand.png`

### 技能图标
- **尺寸**：64×64
- **数量**：5个
- **风格**：血红色主题
- **路径**：`Textures/UI/Abilities/`

---

## ?? 版本信息

- **当前版本**: 1.1.0-dev
- **更新内容**: 阿茨冈德武器系统
- **支持RimWorld版本**: 1.5+
- **状态**: XML基础完成，C#开发中

---

## ?? 特色亮点

1. **独特混血设定**：龙族+血族，双重力量
2. **创新资源系统**：血原质动态管理
3. **专属生物编码武器**：阿茨冈德只为希德莉亚
4. **高频战斗技能**：5个强力技能，灵活战术
5. **完整翻译支持**：中英文双语
6. **详细文档系统**：6份专业文档

---

## ?? 许可证

本模组为粉丝创作，仅供学习交流使用。
遵循RimWorld模组创作社区准则。

---

## ?? 致谢

- 感谢**Ludeon Studios**创造了RimWorld
- 感谢**RimWorld社区**的支持和灵感
- 感谢所有测试者的反馈

---

## ?? 联系与反馈

- **Steam创意工坊**：（待发布）
- **RimWorld官方论坛**：Mod Releases板块
- **GitHub Issues**：（如果有）

---

## ?? 阿茨冈德传说

> *在远古时代，龙与血族的战争席卷大陆。*
> 
> *希德莉亚作为两族混血，终结了这场战争。*
> 
> *她用自己的龙血结晶锻造了这把长剑，*
> 
> *用血族魔法将其束缚，命名为"阿茨冈德"。*
> 
> *这把剑成为了她的一部分，*
> 
> *只回应她的召唤，只饮她允许的鲜血。*
> 
> *传说中，任何传奇之剑在她手中都会转化为阿茨冈德，*
> 
> *因为真正的传奇不是剑，而是持剑之人。*

---

**开发者注**：这是一个精心设计的RimWorld角色模组，融合了龙族与血族的设定，创造了独特的游戏体验。希德莉亚不仅是强大的战士，更是一个有深度、有故事的角色。阿茨冈德作为她的专属武器，象征着她的力量与荣耀。

**享受游戏！** ??????
