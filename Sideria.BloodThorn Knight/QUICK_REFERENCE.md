# 快速参考 - 希德莉亚・血棘骑士

## ?? 种族信息

**种族名称**：血龙种 (Dracovampir)  
**种族特性**：龙族与血族的混血，近乎不死的战士  
**框架**：Humanoid Alien Races (HAR)  
**兼容**：[NL] Facial Animation - WIP ?  

### 血龙种特点
- ?? 龙族血统：高护甲、元素抗性、长寿
- ?? 血族遗产：超速再生、疾病免疫、暗视
- ?? 战斗本能：天生战士，近战专精
- ?? 血原质诅咒：必须战斗维持平衡

**详细介绍**：查看 [DRACOVAMPIR_CODEX.md](DRACOVAMPIR_CODEX.md)

---

## ?? 角色数据速查表

### 基础属性
| 属性 | 数值 |
|------|------|
| 种族 | 血龙种 (Dracovampir) |
| 战斗力 | 350 (传奇级) |
| 年龄 | 500-9999岁 |
| 意志力 | 8-10 (Royalty DLC) |
| 抗性 | 25-30 (Royalty DLC) |

### 种族加成
| 属性 | 效果 |
|------|------|
| 生命值 | +40% (140% 基础) |
| 移动速度 | +6.5% (4.9 c/s) |
| 饥饿速率 | -35% (0.65倍) |
| 愈合速度 | +80% (1.8倍) |
| 毒素抗性 | +50% |
| 温度适应 | -60°C ~ +60°C |

### 技能等级
| 技能 | 等级 |
|------|------|
| 近战 | 16-20 (大师) |
| 射击 | 6-10 |
| 医疗 | 10-14 |
| 社交 | 8-12 |
| 智识 | 6-10 |
| 艺术 | 4-8 |

---

## ?? 战斗数据

### 防御属性
- 锋利护甲：+0.25 (25%)
- 钝击护甲：+0.25 (25%)
- 高温护甲：+0.55 (55%)
- 伤害减免：×0.75 (受到25%更少伤害)
- 疼痛休克阈值：×2.0 (双倍)

### 进攻属性
- 闪避率：基础+0.27 (27%) / 充盈+0.35 (35%)
- 命中率：+0.18 (18%)
- 近战伤害：基础×1.5 + 武器
- 移动速度：基础+0.15 / 充盈+0.3

### 回复能力
- 伤口愈合：+2.0 (2倍速度) + 种族1.8倍 = 总计3.8倍
- 技能治疗：+5.0 (5倍速度)
- 免疫速度：+2.0 (2倍速度) + 种族1.8倍 = 总计3.8倍

---

## ?? 血原质系统

### 状态表
| 状态 | 血原质% | 移速 | 闪避 | 命中 | 心情 |
|------|---------|------|------|------|------|
| 充盈 | 80-100 | +0.3 | +0.08 | +0.03 | +10 |
| 充足 | 50-79 | +0.15 | +0.05 | 0 | 0 |
| 不足 | 20-49 | 0 | 0 | 0 | 0 |
| 枯竭 | 0-19 | 0 | 0 | 0 | -12 |

### 回复速度
- 自然回复：30%/天 ≈ 1.25%/小时
- 击杀回复：根据敌人强度（需C#代码）
- 休息加速：睡眠时回复速度加倍（可选，需C#）

---

## ?? 技能系统

### 技能速查
| # | 技能名 | 消耗 | CD | 持续 | 主要效果 |
|---|--------|------|----|----- |----------|
| 1 | 血棘突刺 | 15% | 8s | 5s | 近战伤害×2.0, 命中+0.20 |
| 2 | 血之疾行 | 20% | 15s | 7.5s | 速度+2.0, 闪避+0.30 |
| 3 | 血肉重铸 | 30% | 30s | 10s | 治疗×6.0倍 |
| 4 | 龙血护盾 | 40% | 45s | 15s | 护甲+0.5, 减伤×0.5 |
| 5 | 血棘风暴 | 60% | 60s | 瞬发 | 范围AOE (需C#) |

**注意**：数值为RimWorld实际格式
- 闪避/命中：小数表示（0.08 = 8%）
- 伤害倍率：使用statFactors（2.0 = 200%）
- 护甲：绝对值（0.25 = 25%护甲）

### 技能连招建议

#### 突袭连招（冲锋型）
```
血之疾行 → 接近 → 血棘突刺 → 击杀
适用：快速击杀单体目标
```

#### 坦克连招（防守型）
```
龙血护盾 → 吸引火力 → 血肉重铸 → 持续战斗
适用：作为前排承伤
```

#### 清场连招（群体型）
```
血之疾行 → 进入中心 → 血棘风暴 → 血肉重铸
适用：对抗大量敌人
```

#### 极限连招（高爆发）
```
龙血护盾 → 血之疾行 → 血棘突刺 → 血肉重铸
消耗：105%（需要满血原质）
适用：Boss战/绝境翻盘
```

---

## ??? 专属装备

### 阿茨冈德 (Atzgand) - 生物编码武器
```
类型：传说长剑
伤害：34-42
护甲穿透：0.45-0.60
攻速：1.4-1.8秒
特殊：附带灼烧8点
品质：传奇（固定）
价值：8000银
生物编码：仅限希德莉亚使用
特性：不会腐朽，发光效果

获取方式：
1. 希德莉亚默认装备
2. 装备任意传奇长剑时自动转化（需C#代码）
```

### 血之共鸣机制
```
当希德莉亚装备任何传奇品质长剑时：
1. 触发血之共鸣（Blood Resonance）
2. 长剑转化为阿茨冈德
3. 自动生物编码绑定到希德莉亚
4. 其他人无法使用此武器

注意：转化机制需要C#代码实现
XML版本中希德莉亚直接装备阿茨冈德
```

### 推荐装备搭配
1. **重甲流**
   - 板甲套装
   - 海军陆战队头盔
   - 护盾腰带

2. **轻甲流**
   - 树皮衣/凤凰羽衣
   - 部落头盔
   - 跳跃腰带

3. **平衡流**
   - 舰队装甲
   - 突击头盔
   - 护盾腰带

---

## ?? 心情管理

### 正面思想
| 思想 | 效果 | 获取方式 |
|------|------|----------|
| 骑士决心 | +8 | 永久（特质） |
| 战斗渴望 | +6 | 永久（特质） |
| 血原质充盈 | +10 | 保持血原质>80% |
| 击败强敌 | +5 | 击杀强敌 |
| 保护同伴 | +6 | 救援队友 |
| 释放血能 | +3 | 使用技能 |

### 负面思想
| 思想 | 效果 | 触发条件 |
|------|------|----------|
| 血原质枯竭 | -12 | 血原质<20% |
| 渴望战斗 | -8 | 长期无战斗 |
| 背弃荣誉 | -15 | 不荣誉行为 |

### 心情优化建议
? 保持血原质在50%以上
? 定期参与战斗
? 保护和救援队友
? 避免不荣誉的行为（屠杀战俘等）

---

## ?? 战术建议

### 对抗不同敌人

#### vs 近战敌人
```
策略：利用闪避和护盾硬刚
技能：龙血护盾 + 血棘突刺
优势：极强坦度和输出
```

#### vs 远程敌人
```
策略：快速接近，压制输出
技能：血之疾行 + 血棘突刺
注意：利用掩体和闪避
```

#### vs 重甲敌人
```
策略：使用穿甲技能破防
技能：血棘突刺（近战伤害×2.0）
装备：阿茨冈德（0.60穿甲）
```

#### vs 群体敌人
```
策略：范围清场
技能：血棘风暴（60%血原质，需C#）
配合：龙血护盾保证生存
```

### 团队定位

1. **前排坦克**（推荐）
   - 冲锋陷阵
   - 吸引火力
   - 保护队友

2. **精英刺客**
   - 斩杀关键目标
   - 快速支援
   - 侧翼突袭

3. **战场统治者**（单人）
   - 1v多战斗
   - 独立作战
   - 全场收割

---

## ?? defName速查

### 关键定义名
```
种族：Sideria_Dracovampir
角色：Sideria_BloodThornKnight
武器：Sideria_Weapon_Atzgand
血原质：Sideria_BloodEssence
体质：Sideria_DraconicVampireBody
```

### 技能defName
```
Sideria_BloodThornStrike_Buff
Sideria_BloodRush_Buff
Sideria_SanguineReforge_Heal
Sideria_DragonbloodAegis_Shield
```

### 特质defName
```
Sideria_BloodThornMastery
Sideria_DraconicBloodline
Sideria_VampiricProgenitor
Sideria_KnightlyHonor
```

---

## ?? 数值调整参考

### RimWorld属性格式说明
```xml
<!-- statOffsets：绝对值加成 -->
<MoveSpeed>0.3</MoveSpeed>           <!-- +0.3格/秒 -->
<MeleeDodgeChance>0.08</MeleeDodgeChance>  <!-- +8%闪避 -->
<ArmorRating_Sharp>0.25</ArmorRating_Sharp>  <!-- +25%护甲 -->

<!-- statFactors：倍率加成 -->
<IncomingDamageFactor>0.75</IncomingDamageFactor>  <!-- 受到75%伤害 = -25% -->
<MeleeDamageFactor>2.0</MeleeDamageFactor>         <!-- 200%伤害 = ×2 -->

<!-- capMods：能力调整 -->
<capacity>Consciousness</capacity>
<offset>-0.05</offset>              <!-- -5%意识 -->
```

### 如果希德莉亚太强
- 降低伤口愈合速度（从2.0改为1.5）
- 减少血原质回复速度（0.3→0.2/天）
- 降低技能伤害倍率（2.0→1.5）
- 降低护甲数值（0.25→0.15）
- 减弱阿茨冈德伤害
- 降低种族基础生命（1.4→1.2）

### 如果希德莉亚太弱
- 提高基础闪避率（0.27→0.35）
- 增加血原质容量（可通过maxSeverity）
- 缩短技能冷却时间
- 提升阿茨冈德伤害
- 增加穿甲能力
- 提高种族基础生命（1.4→1.6）

### 平衡建议位置
主要在这些文件中调整：
```
Defs/ThingDefs_Races/Races_Sideria.xml （种族属性）
Defs/HediffDefs/Hediffs_Sideria.xml （核心数值）
Defs/TraitDefs/Traits_Sideria.xml （特质加成）
Defs/ThingDefs_Weapons/Weapons_Sideria.xml （阿茨冈德）
```

---

## ?? 快速启动指南

### 0. 安装依赖
```
必需：Humanoid Alien Races (HAR)
推荐：[NL] Facial Animation - WIP
```

### 1. 测试模组
```powershell
# 复制到模组目录
Copy-Item "." "D:\steam\steamapps\common\RimWorld\Mods\Sideria" -Recurse

# 启动游戏测试
```

### 2. 创建角色
```
1. 新游戏
2. 选择"血棘骑士"场景
3. 配置希德莉亚（已预设）
4. 开始游戏（已装备阿茨冈德）
```

### 3. 测试战斗
```
1. 使用开发模式（右上角齿轮图标）
2. 生成敌人（调试操作 → 生成...）
3. 测试技能和战斗
4. 检查数值（F1开发日志）
```

---

## ?? 故障排查

### 角色不显示
- ? 未安装 Humanoid Alien Races
- 检查About.xml版本号（1.5）
- 确认defName唯一性（无冲突）
- 查看错误日志（按~键查看）

### 特质不生效
- 检查forcedTraits配置
- 确认Hediff正确应用
- 重启游戏

### 贴图缺失
- 检查路径正确性
- 确认PNG格式
- 文件名大小写

### 阿茨冈德无法使用
- 确认生物编码已绑定
- 只有希德莉亚能使用
- 其他角色无法装备

### 技能无法手动触发
- 当前版本：被动效果自动应用
- 手动触发需要C#代码或Royalty DLC
- 查看AbilityDefs注释

### 武器转化不生效
- 需要C#代码实现
- 当前版本直接装备阿茨冈德
- 未来版本将支持转化

### 属性显示异常
- 确认使用小数格式（0.08而非8）
- 检查statOffsets vs statFactors
- 查看游戏内实际效果

### 面部动画不工作
- 确认安装了 Facial Animation 模组
- 检查模组加载顺序
- 查看 `HAR_FACIAL_ANIMATION_GUIDE.md`

---

## ?? 阿茨冈德传说

```
在远古时代，龙与血族的战争席卷大陆。
希德莉亚作为两族混血，终结了这场战争。

她用自己的龙血结晶锻造了这把长剑，
用血族魔法将其束缚，命名为"阿茨冈德"。

这把剑成为了她的一部分，
只回应她的召唤，只饮她允许的鲜血。

传说中，任何传奇之剑在她手中都会转化为阿茨冈德，
因为真正的传奇不是剑，而是持剑之人。
```

---

## ?? 重要提示

### 模组依赖
1. **必需**：Humanoid Alien Races (HAR)
2. **可选**：[NL] Facial Animation - WIP（启用面部动画）

### XML格式注意事项
1. **小数格式**：闪避/命中使用0.08（8%）而非8
2. **倍率格式**：伤害倍率使用2.0（200%）而非200
3. **护甲格式**：护甲使用0.25（25%防护）
4. **因子格式**：伤害减免0.75表示受到75%伤害（减少25%）

### RimWorld原版限制
- **不存在的属性**：MeleeDPS（应使用MeleeDamageFactor）
- **不存在的属性**：ArmorPenetration作为statOffset（应在武器工具中定义）
- **DLC属性**：initialWillRange和initialResistanceRange需要Royalty DLC

### 调试技巧
```
F1 - 显示开发日志
F12 - 调试菜单
~ - 控制台（查看错误）
```

---

## ?? 相关文档

- ?? [DRACOVAMPIR_CODEX.md](DRACOVAMPIR_CODEX.md) - 血龙种完整设定
- ?? [HAR_FACIAL_ANIMATION_GUIDE.md](HAR_FACIAL_ANIMATION_GUIDE.md) - HAR和面部动画指南
- ?? [README.md](README.md) - 模组总体介绍
- ?? [DESIGN.md](DESIGN.md) - 设计文档

---

**提示：此文档为快速参考，详细信息请查看相关文档**

**所有数值已根据RimWorld实际格式修正！**  
**血龙种框架基于 Humanoid Alien Races！**  
**完全兼容 Facial Animation 模组！**
